{"version":3,"sources":["accountsValidations.js"],"names":["isValidAccount","request","response","next","accountNum","params","i","accounts","length","isNaN","parseFloat","status","json","error","toString"],"mappings":";;;;;;AACA;;;;;;AAEA,IAAMA,iBAAiB,SAAjBA,cAAiB,CAACC,OAAD,EAAUC,QAAV,EAAoBC,IAApB,EAA6B;AAAA,MAC1CC,UAD0C,GAC3BH,QAAQI,MADmB,CAC1CD,UAD0C;;AAElD,OAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIC,mBAASC,MAA7B,EAAqCF,KAAK,CAA1C,EAA6C;AAC3C,QAAIG,MAAMC,WAAWN,UAAX,EAAuB,EAAvB,CAAN,CAAJ,EAAuC;AACrC,aAAOF,SAASS,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AAC/BD,gBAAQ,GADuB;AAE/BE,eAAO;AAFwB,OAA1B,CAAP;AAID;AACD,QAAIT,WAAWU,QAAX,GAAsBN,MAAtB,KAAiC,EAArC,EAAyC;AACvC,aAAON,SAASS,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AAC/BD,gBAAQ,GADuB;AAE/BE,eAAO;AAFwB,OAA1B,CAAP;AAID;AACF;AACDV;AACD,CAjBD,C,CAHA;kBAqBeH,c","file":"accountsValidations.js","sourceRoot":"C:/Users/nono.DESKTOP-OPOSFU3/Desktop/andela-banka/server/middlewares","sourcesContent":["/* eslint-disable no-restricted-globals */\r\nimport accounts from '../db/accounts';\r\n\r\nconst isValidAccount = (request, response, next) => {\r\n  const { accountNum } = request.params;\r\n  for (let i = 0; i < accounts.length; i += 1) {\r\n    if (isNaN(parseFloat(accountNum, 10))) {\r\n      return response.status(400).json({\r\n        status: 400,\r\n        error: 'Bad request',\r\n      });\r\n    }\r\n    if (accountNum.toString().length !== 10) {\r\n      return response.status(400).json({\r\n        status: 400,\r\n        error: 'account number must be a 10 digit number',\r\n      });\r\n    }\r\n  }\r\n  next();\r\n};\r\nexport default isValidAccount;\r\n"]}