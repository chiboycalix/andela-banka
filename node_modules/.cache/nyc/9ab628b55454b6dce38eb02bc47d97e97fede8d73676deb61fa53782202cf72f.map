{"version":3,"sources":["loginValidations.js"],"names":["loginValidation","request","response","next","body","email","password","pattern","i","users","length","status","json","error","match"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAMA,kBAAkB,SAAlBA,eAAkB,CAACC,OAAD,EAAUC,QAAV,EAAoBC,IAApB,EAA6B;AAAA,sBACvBF,QAAQG,IADe;AAAA,MAC3CC,KAD2C,iBAC3CA,KAD2C;AAAA,MACpCC,QADoC,iBACpCA,QADoC;;AAEnD,MAAMC,UAAU,sJAAhB;AACA,OAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIC,gBAAMC,MAA1B,EAAkCF,KAAK,CAAvC,EAA0C;AACxC,QAAI,CAACH,KAAL,EAAY;AACV,aAAOH,SAASS,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AAC/BD,gBAAQ,GADuB;AAE/BE,eAAO;AAFwB,OAA1B,CAAP;AAID;AACD,QAAI,CAACR,MAAMS,KAAN,CAAYP,OAAZ,CAAL,EAA2B;AACzB,aAAOL,SAASS,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AAC/BD,gBAAQ,GADuB;AAE/BE,eAAO;AAFwB,OAA1B,CAAP;AAID;AACD,QAAI,CAACP,QAAL,EAAe;AACb,aAAOJ,SAASS,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AAC/BD,gBAAQ,GADuB;AAE/BE,eAAO;AAFwB,OAA1B,CAAP;AAID;AACF;AACDV;AACD,CAxBD;;kBA0BeH,e","file":"loginValidations.js","sourceRoot":"C:/Users/nono.DESKTOP-OPOSFU3/Desktop/andela-banka/server/middlewares","sourcesContent":["import users from '../db/users';\r\n\r\nconst loginValidation = (request, response, next) => {\r\n  const { email, password } = request.body;\r\n  const pattern = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  for (let i = 0; i < users.length; i += 1) {\r\n    if (!email) {\r\n      return response.status(400).json({\r\n        status: 400,\r\n        error: 'email is required',\r\n      });\r\n    }\r\n    if (!email.match(pattern)) {\r\n      return response.status(400).json({\r\n        status: 400,\r\n        error: 'Please provide a valid email',\r\n      });\r\n    }\r\n    if (!password) {\r\n      return response.status(400).json({\r\n        status: 400,\r\n        error: 'password is required to login',\r\n      });\r\n    }\r\n  }\r\n  next();\r\n};\r\n\r\nexport default loginValidation;\r\n"]}