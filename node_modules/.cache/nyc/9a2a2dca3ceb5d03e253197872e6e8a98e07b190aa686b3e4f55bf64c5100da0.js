'use strict';var cov_2irz9hxrx5=function(){var path="C:\\Users\\nono.DESKTOP-OPOSFU3\\Desktop\\andela-banka\\server\\test\\userTests\\transactionTest.js";var hash="ce51536de41c221599d9c5c8cde256fe180297d5";var Function=function(){}.constructor;var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\nono.DESKTOP-OPOSFU3\\Desktop\\andela-banka\\server\\test\\userTests\\transactionTest.js",statementMap:{"0":{start:{line:3,column:12},end:{line:3,column:27}},"1":{start:{line:5,column:13},end:{line:5,column:42}},"2":{start:{line:7,column:16},end:{line:7,column:36}},"3":{start:{line:9,column:17},end:{line:9,column:50}},"4":{start:{line:11,column:14},end:{line:11,column:31}},"5":{start:{line:13,column:15},end:{line:13,column:46}},"6":{start:{line:15,column:20},end:{line:15,column:43}},"7":{start:{line:17,column:21},end:{line:17,column:58}},"8":{start:{line:19,column:11},end:{line:19,column:31}},"9":{start:{line:21,column:12},end:{line:21,column:40}},"10":{start:{line:23,column:39},end:{line:23,column:93}},"11":{start:{line:25,column:0},end:{line:25,column:26}},"12":{start:{line:29,column:13},end:{line:29,column:36}},"13":{start:{line:31,column:0},end:{line:31,column:39}},"14":{start:{line:33,column:0},end:{line:128,column:3}},"15":{start:{line:34,column:14},end:{line:41,column:3}},"16":{start:{line:42,column:19},end:{line:47,column:45}},"17":{start:{line:48,column:2},end:{line:62,column:5}},"18":{start:{line:49,column:4},end:{line:61,column:7}},"19":{start:{line:50,column:6},end:{line:50,column:39}},"20":{start:{line:51,column:6},end:{line:51,column:42}},"21":{start:{line:52,column:6},end:{line:52,column:49}},"22":{start:{line:53,column:6},end:{line:53,column:55}},"23":{start:{line:54,column:6},end:{line:54,column:59}},"24":{start:{line:55,column:6},end:{line:55,column:58}},"25":{start:{line:56,column:6},end:{line:56,column:55}},"26":{start:{line:57,column:6},end:{line:57,column:58}},"27":{start:{line:58,column:6},end:{line:58,column:54}},"28":{start:{line:59,column:6},end:{line:59,column:57}},"29":{start:{line:60,column:6},end:{line:60,column:13}},"30":{start:{line:63,column:25},end:{line:72,column:3}},"31":{start:{line:73,column:2},end:{line:78,column:5}},"32":{start:{line:74,column:4},end:{line:76,column:7}},"33":{start:{line:75,column:6},end:{line:75,column:39}},"34":{start:{line:77,column:4},end:{line:77,column:11}},"35":{start:{line:79,column:26},end:{line:88,column:3}},"36":{start:{line:89,column:2},end:{line:94,column:5}},"37":{start:{line:90,column:4},end:{line:92,column:7}},"38":{start:{line:91,column:6},end:{line:91,column:39}},"39":{start:{line:93,column:4},end:{line:93,column:11}},"40":{start:{line:96,column:2},end:{line:101,column:5}},"41":{start:{line:97,column:4},end:{line:99,column:7}},"42":{start:{line:98,column:6},end:{line:98,column:39}},"43":{start:{line:100,column:4},end:{line:100,column:11}},"44":{start:{line:102,column:2},end:{line:107,column:5}},"45":{start:{line:103,column:4},end:{line:105,column:7}},"46":{start:{line:104,column:6},end:{line:104,column:39}},"47":{start:{line:106,column:4},end:{line:106,column:11}},"48":{start:{line:109,column:27},end:{line:118,column:3}},"49":{start:{line:120,column:2},end:{line:127,column:5}},"50":{start:{line:121,column:4},end:{line:125,column:7}},"51":{start:{line:122,column:6},end:{line:122,column:39}},"52":{start:{line:123,column:6},end:{line:123,column:50}},"53":{start:{line:124,column:6},end:{line:124,column:63}},"54":{start:{line:126,column:4},end:{line:126,column:11}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:23,column:9},end:{line:23,column:31}},loc:{start:{line:23,column:37},end:{line:23,column:95}},line:23},"1":{name:"(anonymous_1)",decl:{start:{line:33,column:34},end:{line:33,column:35}},loc:{start:{line:33,column:46},end:{line:128,column:1}},line:33},"2":{name:"(anonymous_2)",decl:{start:{line:48,column:66},end:{line:48,column:67}},loc:{start:{line:48,column:82},end:{line:62,column:3}},line:48},"3":{name:"(anonymous_3)",decl:{start:{line:49,column:121},end:{line:49,column:122}},loc:{start:{line:49,column:150},end:{line:61,column:5}},line:49},"4":{name:"(anonymous_4)",decl:{start:{line:73,column:53},end:{line:73,column:54}},loc:{start:{line:73,column:69},end:{line:78,column:3}},line:73},"5":{name:"(anonymous_5)",decl:{start:{line:74,column:160},end:{line:74,column:161}},loc:{start:{line:74,column:185},end:{line:76,column:5}},line:74},"6":{name:"(anonymous_6)",decl:{start:{line:89,column:53},end:{line:89,column:54}},loc:{start:{line:89,column:69},end:{line:94,column:3}},line:89},"7":{name:"(anonymous_7)",decl:{start:{line:90,column:162},end:{line:90,column:163}},loc:{start:{line:90,column:187},end:{line:92,column:5}},line:90},"8":{name:"(anonymous_8)",decl:{start:{line:96,column:66},end:{line:96,column:67}},loc:{start:{line:96,column:82},end:{line:101,column:3}},line:96},"9":{name:"(anonymous_9)",decl:{start:{line:97,column:98},end:{line:97,column:99}},loc:{start:{line:97,column:123},end:{line:99,column:5}},line:97},"10":{name:"(anonymous_10)",decl:{start:{line:102,column:66},end:{line:102,column:67}},loc:{start:{line:102,column:82},end:{line:107,column:3}},line:102},"11":{name:"(anonymous_11)",decl:{start:{line:103,column:100},end:{line:103,column:101}},loc:{start:{line:103,column:125},end:{line:105,column:5}},line:103},"12":{name:"(anonymous_12)",decl:{start:{line:120,column:66},end:{line:120,column:67}},loc:{start:{line:120,column:82},end:{line:127,column:3}},line:120},"13":{name:"(anonymous_13)",decl:{start:{line:121,column:162},end:{line:121,column:163}},loc:{start:{line:121,column:187},end:{line:125,column:5}},line:121}},branchMap:{"0":{loc:{start:{line:23,column:46},end:{line:23,column:92}},type:"cond-expr",locations:[{start:{line:23,column:70},end:{line:23,column:73}},{start:{line:23,column:76},end:{line:23,column:92}}],line:23},"1":{loc:{start:{line:23,column:46},end:{line:23,column:67}},type:"binary-expr",locations:[{start:{line:23,column:46},end:{line:23,column:49}},{start:{line:23,column:53},end:{line:23,column:67}}],line:23}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var _chai=(cov_2irz9hxrx5.s[0]++,require('chai'));var _chai2=(cov_2irz9hxrx5.s[1]++,_interopRequireDefault(_chai));var _chaiHttp=(cov_2irz9hxrx5.s[2]++,require('chai-http'));var _chaiHttp2=(cov_2irz9hxrx5.s[3]++,_interopRequireDefault(_chaiHttp));var _dotenv=(cov_2irz9hxrx5.s[4]++,require('dotenv'));var _dotenv2=(cov_2irz9hxrx5.s[5]++,_interopRequireDefault(_dotenv));var _jsonwebtoken=(cov_2irz9hxrx5.s[6]++,require('jsonwebtoken'));var _jsonwebtoken2=(cov_2irz9hxrx5.s[7]++,_interopRequireDefault(_jsonwebtoken));var _app=(cov_2irz9hxrx5.s[8]++,require('../../app'));var _app2=(cov_2irz9hxrx5.s[9]++,_interopRequireDefault(_app));function _interopRequireDefault(obj){cov_2irz9hxrx5.f[0]++;cov_2irz9hxrx5.s[10]++;return(cov_2irz9hxrx5.b[1][0]++,obj)&&(cov_2irz9hxrx5.b[1][1]++,obj.__esModule)?(cov_2irz9hxrx5.b[0][0]++,obj):(cov_2irz9hxrx5.b[0][1]++,{default:obj});}cov_2irz9hxrx5.s[11]++;_dotenv2.default.config();// eslint-disable-next-line no-unused-vars
/* eslint-disable no-unused-expressions */ // eslint-disable-next-line no-unused-expressions
var should=(cov_2irz9hxrx5.s[12]++,_chai2.default.should());cov_2irz9hxrx5.s[13]++;_chai2.default.use(_chaiHttp2.default);cov_2irz9hxrx5.s[14]++;describe('All transactions test',function(){cov_2irz9hxrx5.f[1]++;var staff=(cov_2irz9hxrx5.s[15]++,{firstName:'chinonso',lastName:'calix',email:'staff2@gmail.com',password:1234,type:'staff',isAdmin:true});var staffToken=(cov_2irz9hxrx5.s[16]++,_jsonwebtoken2.default.sign({email:staff.email,id:staff.id,isAdmin:staff.isAdmin,type:staff.type},process.env.SECRET,{expiresIn:'1h'}));cov_2irz9hxrx5.s[17]++;it('should be able to signup a staff with the correct details',function(done){cov_2irz9hxrx5.f[2]++;cov_2irz9hxrx5.s[18]++;_chai2.default.request(_app2.default).post('/api/v1/auth/signup').send('x-access-token',staffToken).send(staff).end(function(request,response){cov_2irz9hxrx5.f[3]++;cov_2irz9hxrx5.s[19]++;response.should.have.status(201);cov_2irz9hxrx5.s[20]++;response.body.should.be.a('object');cov_2irz9hxrx5.s[21]++;response.body.should.have.property('data');cov_2irz9hxrx5.s[22]++;response.body.data.should.have.property('token');cov_2irz9hxrx5.s[23]++;response.body.data.should.have.property('firstName');cov_2irz9hxrx5.s[24]++;response.body.data.should.have.property('lastName');cov_2irz9hxrx5.s[25]++;response.body.data.should.have.property('email');cov_2irz9hxrx5.s[26]++;response.body.data.should.have.property('password');cov_2irz9hxrx5.s[27]++;response.body.data.should.have.property('type');cov_2irz9hxrx5.s[28]++;response.body.data.should.have.property('isAdmin');cov_2irz9hxrx5.s[29]++;done();});});var debitTransaction=(cov_2irz9hxrx5.s[30]++,{id:1,accountNumber:'0114276910',createdOn:'12/12/2009',cashier:1,transactionType:'debit',amount:500,oldBalance:15000,newBalance:10000});cov_2irz9hxrx5.s[31]++;it('Only a staff can perform the debit operation',function(done){cov_2irz9hxrx5.f[4]++;cov_2irz9hxrx5.s[32]++;_chai2.default.request(_app2.default).post('/api/v1/transactions/0114276912/debit').send(debitTransaction).set('Authorization','Bearer '+staffToken).end(function(err,response){cov_2irz9hxrx5.f[5]++;cov_2irz9hxrx5.s[33]++;response.should.have.status(201);});cov_2irz9hxrx5.s[34]++;done();});var creditTransaction=(cov_2irz9hxrx5.s[35]++,{id:1,accountNumber:'0114276910',createdOn:'12/12/2009',cashier:1,transactionType:'debit',amount:500,oldBalance:15000,newBalance:20000});cov_2irz9hxrx5.s[36]++;it('Only a staff can perform the debit operation',function(done){cov_2irz9hxrx5.f[6]++;cov_2irz9hxrx5.s[37]++;_chai2.default.request(_app2.default).post('/api/v1/transactions/0114276912/credit').send(creditTransaction).set('Authorization','Bearer '+staffToken).end(function(err,response){cov_2irz9hxrx5.f[7]++;cov_2irz9hxrx5.s[38]++;response.should.have.status(201);});cov_2irz9hxrx5.s[39]++;done();});cov_2irz9hxrx5.s[40]++;it('Only a staff or logged in user can perform this operation',function(done){cov_2irz9hxrx5.f[8]++;cov_2irz9hxrx5.s[41]++;_chai2.default.request(_app2.default).get('/api/v1/transactions/0114276912/transactions').end(function(err,response){cov_2irz9hxrx5.f[9]++;cov_2irz9hxrx5.s[42]++;response.should.have.status(200);});cov_2irz9hxrx5.s[43]++;done();});cov_2irz9hxrx5.s[44]++;it('Only a staff or logged in user can perform this operation',function(done){cov_2irz9hxrx5.f[10]++;cov_2irz9hxrx5.s[45]++;_chai2.default.request(_app2.default).get('/api/v1/transactions/0114276912/transactions/2').end(function(err,response){cov_2irz9hxrx5.f[11]++;cov_2irz9hxrx5.s[46]++;response.should.have.status(200);});cov_2irz9hxrx5.s[47]++;done();});var invalidTransaction=(cov_2irz9hxrx5.s[48]++,{id:1,accountNumber:'0114276910',createdOn:'12/12/2009',cashier:1,transactionType:'debit',amount:25000,oldBalance:15000,newBalance:10000});cov_2irz9hxrx5.s[49]++;it('Only a staff or logged in user can perform this operation',function(done){cov_2irz9hxrx5.f[12]++;cov_2irz9hxrx5.s[50]++;_chai2.default.request(_app2.default).post('/api/v1/transactions/0114276912/debit').set('Authorization','Bearer '+staffToken).send(invalidTransaction).end(function(err,response){cov_2irz9hxrx5.f[13]++;cov_2irz9hxrx5.s[51]++;response.should.have.status(403);cov_2irz9hxrx5.s[52]++;response.body.should.have.property('error');cov_2irz9hxrx5.s[53]++;response.body.error.should.equal('Insufficient Balance');});cov_2irz9hxrx5.s[54]++;done();});});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYW5zYWN0aW9uVGVzdC5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJzaG91bGQiLCJjaGFpIiwidXNlIiwiY2hhaUh0dHAiLCJkZXNjcmliZSIsInN0YWZmIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwidHlwZSIsImlzQWRtaW4iLCJzdGFmZlRva2VuIiwiand0Iiwic2lnbiIsImlkIiwicHJvY2VzcyIsImVudiIsIlNFQ1JFVCIsImV4cGlyZXNJbiIsIml0IiwiZG9uZSIsInJlcXVlc3QiLCJzZXJ2ZXIiLCJwb3N0Iiwic2VuZCIsImVuZCIsInJlc3BvbnNlIiwiaGF2ZSIsInN0YXR1cyIsImJvZHkiLCJiZSIsImEiLCJwcm9wZXJ0eSIsImRhdGEiLCJkZWJpdFRyYW5zYWN0aW9uIiwiYWNjb3VudE51bWJlciIsImNyZWF0ZWRPbiIsImNhc2hpZXIiLCJ0cmFuc2FjdGlvblR5cGUiLCJhbW91bnQiLCJvbGRCYWxhbmNlIiwibmV3QmFsYW5jZSIsInNldCIsImVyciIsImNyZWRpdFRyYW5zYWN0aW9uIiwiZ2V0IiwiaW52YWxpZFRyYW5zYWN0aW9uIiwiZXJyb3IiLCJlcXVhbCJdLCJtYXBwaW5ncyI6Ijs7QUFFQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQUEsaUJBQU9DLE1BQVA7QUFDQTtBQVRBO0FBQ0E7QUFTQSxJQUFNQyxTQUFTQyxlQUFLRCxNQUFMLEVBQWY7O0FBRUFDLGVBQUtDLEdBQUwsQ0FBU0Msa0JBQVQ7O0FBR0FDLFNBQVMsdUJBQVQsRUFBa0MsWUFBTTtBQUN0QyxNQUFNQyxRQUFRO0FBQ1pDLGVBQVcsVUFEQztBQUVaQyxjQUFVLE9BRkU7QUFHWkMsV0FBTyxrQkFISztBQUlaQyxjQUFVLElBSkU7QUFLWkMsVUFBTSxPQUxNO0FBTVpDLGFBQVM7QUFORyxHQUFkO0FBUUEsTUFBTUMsYUFBYUMsdUJBQUlDLElBQUosQ0FBUztBQUMxQk4sV0FBT0gsTUFB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O0FBQ3hFcEIsbUJBQUtxQixPQUFMLENBQWFDLGFBQWIsRUFDR0MsSUFESCxDQUNRLHVDQURSLEVBRUdtQixHQUZILENBRU8sZUFGUCxjQUVrQy9CLFVBRmxDLEVBR0dhLElBSEgsQ0FHUXNCLGtCQUhSLEVBSUdyQixHQUpILENBSU8sVUFBQ2tCLEdBQUQsRUFBTWpCLFFBQU4sRUFBbUI7QUFDdEJBLGVBQVMzQixNQUFULENBQWdCNEIsSUFBaEIsQ0FBcUJDLE1BQXJCLENBQTRCLEdBQTVCO0FBQ0FGLGVBQVNHLElBQVQsQ0FBYzlCLE1BQWQsQ0FBcUI0QixJQUFyQixDQUEwQkssUUFBMUIsQ0FBbUMsT0FBbkM7QUFDQU4sZUFBU0csSUFBVCxDQUFja0IsS0FBZCxDQUFvQmhELE1BQXBCLENBQTJCaUQsS0FBM0IsQ0FBaUMsc0JBQWpDO0FBQ0QsS0FSSDtBQVNBNUI7QUFDRCxHQVhEO0FBWUQsQ0FuSEQiLCJmaWxlIjoidHJhbnNhY3Rpb25UZXN0LmpzIiwic291cmNlUm9vdCI6IkM6L1VzZXJzL25vbm8uREVTS1RPUC1PUE9TRlUzL0Rlc2t0b3AvYW5kZWxhLWJhbmthL3NlcnZlci90ZXN0L3VzZXJUZXN0cyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC1leHByZXNzaW9ucyAqL1xyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zXHJcbmltcG9ydCBjaGFpIGZyb20gJ2NoYWknO1xyXG5pbXBvcnQgY2hhaUh0dHAgZnJvbSAnY2hhaS1odHRwJztcclxuaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xyXG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcbmltcG9ydCBzZXJ2ZXIgZnJvbSAnLi4vLi4vYXBwJztcclxuXHJcbmRvdGVudi5jb25maWcoKTtcclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXHJcbmNvbnN0IHNob3VsZCA9IGNoYWkuc2hvdWxkKCk7XHJcblxyXG5jaGFpLnVzZShjaGFpSHR0cCk7XHJcblxyXG5cclxuZGVzY3JpYmUoJ0FsbCB0cmFuc2FjdGlvbnMgdGVzdCcsICgpID0+IHtcclxuICBjb25zdCBzdGFmZiA9IHtcclxuICAgIGZpcnN0TmFtZTogJ2NoaW5vbnNvJyxcclxuICAgIGxhc3ROYW1lOiAnY2FsaXgnLFxyXG4gICAgZW1haWw6ICdzdGFmZjJAZ21haWwuY29tJyxcclxuICAgIHBhc3N3b3JkOiAxMjM0LFxyXG4gICAgdHlwZTogJ3N0YWZmJyxcclxuICAgIGlzQWRtaW46IHRydWUsXHJcbiAgfTtcclxuICBjb25zdCBzdGFmZlRva2VuID0gand0LnNpZ24oe1xyXG4gICAgZW1haWw6IHN0YWZmLmVtYWlsLFxyXG4gICAgaWQ6IHN0YWZmLmlkLFxyXG4gICAgaXNBZG1pbjogc3RhZmYuaXNBZG1pbixcclxuICAgIHR5cGU6IHN0YWZmLnR5cGUsXHJcbiAgfSwgcHJvY2Vzcy5lbnYuU0VDUkVULCB7IGV4cGlyZXNJbjogJzFoJyB9KTtcclxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gc2lnbnVwIGEgc3RhZmYgd2l0aCB0aGUgY29ycmVjdCBkZXRhaWxzJywgKGRvbmUpID0+IHtcclxuICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXHJcbiAgICAgIC5wb3N0KCcvYXBpL3YxL2F1dGgvc2lnbnVwJylcclxuICAgICAgLnNlbmQoJ3gtYWNjZXNzLXRva2VuJywgc3RhZmZUb2tlbilcclxuICAgICAgLnNlbmQoc3RhZmYpXHJcbiAgICAgIC5lbmQoKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMSk7XHJcbiAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuYmUuYSgnb2JqZWN0Jyk7XHJcbiAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnZGF0YScpO1xyXG4gICAgICAgIHJlc3BvbnNlLmJvZHkuZGF0YS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgndG9rZW4nKTtcclxuICAgICAgICByZXNwb25zZS5ib2R5LmRhdGEuc2hvdWxkLmhhdmUucHJvcGVydHkoJ2ZpcnN0TmFtZScpO1xyXG4gICAgICAgIHJlc3BvbnNlLmJvZHkuZGF0YS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbGFzdE5hbWUnKTtcclxuICAgICAgICByZXNwb25zZS5ib2R5LmRhdGEuc2hvdWxkLmhhdmUucHJvcGVydHkoJ2VtYWlsJyk7XHJcbiAgICAgICAgcmVzcG9uc2UuYm9keS5kYXRhLnNob3VsZC5oYXZlLnByb3BlcnR5KCdwYXNzd29yZCcpO1xyXG4gICAgICAgIHJlc3BvbnNlLmJvZHkuZGF0YS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgndHlwZScpO1xyXG4gICAgICAgIHJlc3BvbnNlLmJvZHkuZGF0YS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnaXNBZG1pbicpO1xyXG4gICAgICAgIGRvbmUoKTtcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcbiAgY29uc3QgZGViaXRUcmFuc2FjdGlvbiA9IHtcclxuICAgIGlkOiAxLFxyXG4gICAgYWNjb3VudE51bWJlcjogJzAxMTQyNzY5MTAnLFxyXG4gICAgY3JlYXRlZE9uOiAnMTIvMTIvMjAwOScsXHJcbiAgICBjYXNoaWVyOiAxLFxyXG4gICAgdHJhbnNhY3Rpb25UeXBlOiAnZGViaXQnLFxyXG4gICAgYW1vdW50OiA1MDAsXHJcbiAgICBvbGRCYWxhbmNlOiAxNTAwMCxcclxuICAgIG5ld0JhbGFuY2U6IDEwMDAwLFxyXG4gIH07XHJcbiAgaXQoJ09ubHkgYSBzdGFmZiBjYW4gcGVyZm9ybSB0aGUgZGViaXQgb3BlcmF0aW9uJywgKGRvbmUpID0+IHtcclxuICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXHJcbiAgICAgIC5wb3N0KCcvYXBpL3YxL3RyYW5zYWN0aW9ucy8wMTE0Mjc2OTEyL2RlYml0JylcclxuICAgICAgLnNlbmQoZGViaXRUcmFuc2FjdGlvbilcclxuICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHtzdGFmZlRva2VufWApXHJcbiAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpID0+IHtcclxuICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAxKTtcclxuICAgICAgfSk7XHJcbiAgICBkb25lKCk7XHJcbiAgfSk7XHJcbiAgY29uc3QgY3JlZGl0VHJhbnNhY3Rpb24gPSB7XHJcbiAgICBpZDogMSxcclxuICAgIGFjY291bnROdW1iZXI6ICcwMTE0Mjc2OTEwJyxcclxuICAgIGNyZWF0ZWRPbjogJzEyLzEyLzIwMDknLFxyXG4gICAgY2FzaGllcjogMSxcclxuICAgIHRyYW5zYWN0aW9uVHlwZTogJ2RlYml0JyxcclxuICAgIGFtb3VudDogNTAwLFxyXG4gICAgb2xkQmFsYW5jZTogMTUwMDAsXHJcbiAgICBuZXdCYWxhbmNlOiAyMDAwMCxcclxuICB9O1xyXG4gIGl0KCdPbmx5IGEgc3RhZmYgY2FuIHBlcmZvcm0gdGhlIGRlYml0IG9wZXJhdGlvbicsIChkb25lKSA9PiB7XHJcbiAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxyXG4gICAgICAucG9zdCgnL2FwaS92MS90cmFuc2FjdGlvbnMvMDExNDI3NjkxMi9jcmVkaXQnKVxyXG4gICAgICAuc2VuZChjcmVkaXRUcmFuc2FjdGlvbilcclxuICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHtzdGFmZlRva2VufWApXHJcbiAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpID0+IHtcclxuICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAxKTtcclxuICAgICAgfSk7XHJcbiAgICBkb25lKCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdPbmx5IGEgc3RhZmYgb3IgbG9nZ2VkIGluIHVzZXIgY2FuIHBlcmZvcm0gdGhpcyBvcGVyYXRpb24nLCAoZG9uZSkgPT4ge1xyXG4gICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcclxuICAgICAgLmdldCgnL2FwaS92MS90cmFuc2FjdGlvbnMvMDExNDI3NjkxMi90cmFuc2FjdGlvbnMnKVxyXG4gICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMCk7XHJcbiAgICAgIH0pO1xyXG4gICAgZG9uZSgpO1xyXG4gIH0pO1xyXG4gIGl0KCdPbmx5IGEgc3RhZmYgb3IgbG9nZ2VkIGluIHVzZXIgY2FuIHBlcmZvcm0gdGhpcyBvcGVyYXRpb24nLCAoZG9uZSkgPT4ge1xyXG4gICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcclxuICAgICAgLmdldCgnL2FwaS92MS90cmFuc2FjdGlvbnMvMDExNDI3NjkxMi90cmFuc2FjdGlvbnMvMicpXHJcbiAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpID0+IHtcclxuICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAwKTtcclxuICAgICAgfSk7XHJcbiAgICBkb25lKCk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGludmFsaWRUcmFuc2FjdGlvbiA9IHtcclxuICAgIGlkOiAxLFxyXG4gICAgYWNjb3VudE51bWJlcjogJzAxMTQyNzY5MTAnLFxyXG4gICAgY3JlYXRlZE9uOiAnMTIvMTIvMjAwOScsXHJcbiAgICBjYXNoaWVyOiAxLFxyXG4gICAgdHJhbnNhY3Rpb25UeXBlOiAnZGViaXQnLFxyXG4gICAgYW1vdW50OiAyNTAwMCxcclxuICAgIG9sZEJhbGFuY2U6IDE1MDAwLFxyXG4gICAgbmV3QmFsYW5jZTogMTAwMDAsXHJcbiAgfTtcclxuXHJcbiAgaXQoJ09ubHkgYSBzdGFmZiBvciBsb2dnZWQgaW4gdXNlciBjYW4gcGVyZm9ybSB0aGlzIG9wZXJhdGlvbicsIChkb25lKSA9PiB7XHJcbiAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxyXG4gICAgICAucG9zdCgnL2FwaS92MS90cmFuc2FjdGlvbnMvMDExNDI3NjkxMi9kZWJpdCcpXHJcbiAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7c3RhZmZUb2tlbn1gKVxyXG4gICAgICAuc2VuZChpbnZhbGlkVHJhbnNhY3Rpb24pXHJcbiAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpID0+IHtcclxuICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoNDAzKTtcclxuICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdlcnJvcicpO1xyXG4gICAgICAgIHJlc3BvbnNlLmJvZHkuZXJyb3Iuc2hvdWxkLmVxdWFsKCdJbnN1ZmZpY2llbnQgQmFsYW5jZScpO1xyXG4gICAgICB9KTtcclxuICAgIGRvbmUoKTtcclxuICB9KTtcclxufSk7XHJcbiJdfQ==