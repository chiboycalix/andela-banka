'use strict';var cov_1w4s1i0v9p=function(){var path="C:\\Users\\nono.DESKTOP-OPOSFU3\\Desktop\\andela-banka\\server\\middlewares\\loginValidations.js";var hash="5501d93404f9402be33c60a609a6b0b3016c07e6";var Function=function(){}.constructor;var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\nono.DESKTOP-OPOSFU3\\Desktop\\andela-banka\\server\\middlewares\\loginValidations.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:7,column:13},end:{line:7,column:35}},"2":{start:{line:9,column:14},end:{line:9,column:44}},"3":{start:{line:11,column:39},end:{line:11,column:93}},"4":{start:{line:13,column:22},end:{line:52,column:1}},"5":{start:{line:14,column:22},end:{line:14,column:34}},"6":{start:{line:15,column:14},end:{line:15,column:33}},"7":{start:{line:16,column:17},end:{line:16,column:39}},"8":{start:{line:18,column:16},end:{line:18,column:166}},"9":{start:{line:19,column:2},end:{line:50,column:3}},"10":{start:{line:19,column:15},end:{line:19,column:16}},"11":{start:{line:20,column:4},end:{line:25,column:5}},"12":{start:{line:21,column:6},end:{line:24,column:9}},"13":{start:{line:26,column:4},end:{line:31,column:5}},"14":{start:{line:27,column:6},end:{line:30,column:9}},"15":{start:{line:32,column:4},end:{line:37,column:5}},"16":{start:{line:33,column:6},end:{line:36,column:9}},"17":{start:{line:51,column:2},end:{line:51,column:9}},"18":{start:{line:54,column:0},end:{line:54,column:34}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:11,column:9},end:{line:11,column:31}},loc:{start:{line:11,column:37},end:{line:11,column:95}},line:11},"1":{name:"loginValidation",decl:{start:{line:13,column:31},end:{line:13,column:46}},loc:{start:{line:13,column:72},end:{line:52,column:1}},line:13}},branchMap:{"0":{loc:{start:{line:11,column:46},end:{line:11,column:92}},type:"cond-expr",locations:[{start:{line:11,column:70},end:{line:11,column:73}},{start:{line:11,column:76},end:{line:11,column:92}}],line:11},"1":{loc:{start:{line:11,column:46},end:{line:11,column:67}},type:"binary-expr",locations:[{start:{line:11,column:46},end:{line:11,column:49}},{start:{line:11,column:53},end:{line:11,column:67}}],line:11},"2":{loc:{start:{line:20,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:20,column:4},end:{line:25,column:5}},{start:{line:20,column:4},end:{line:25,column:5}}],line:20},"3":{loc:{start:{line:26,column:4},end:{line:31,column:5}},type:"if",locations:[{start:{line:26,column:4},end:{line:31,column:5}},{start:{line:26,column:4},end:{line:31,column:5}}],line:26},"4":{loc:{start:{line:32,column:4},end:{line:37,column:5}},type:"if",locations:[{start:{line:32,column:4},end:{line:37,column:5}},{start:{line:32,column:4},end:{line:37,column:5}}],line:32}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_1w4s1i0v9p.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _users=(cov_1w4s1i0v9p.s[1]++,require('../db/users'));var _users2=(cov_1w4s1i0v9p.s[2]++,_interopRequireDefault(_users));function _interopRequireDefault(obj){cov_1w4s1i0v9p.f[0]++;cov_1w4s1i0v9p.s[3]++;return(cov_1w4s1i0v9p.b[1][0]++,obj)&&(cov_1w4s1i0v9p.b[1][1]++,obj.__esModule)?(cov_1w4s1i0v9p.b[0][0]++,obj):(cov_1w4s1i0v9p.b[0][1]++,{default:obj});}cov_1w4s1i0v9p.s[4]++;var loginValidation=function loginValidation(request,response,next){cov_1w4s1i0v9p.f[1]++;var _request$body=(cov_1w4s1i0v9p.s[5]++,request.body),email=(cov_1w4s1i0v9p.s[6]++,_request$body.email),password=(cov_1w4s1i0v9p.s[7]++,_request$body.password);var pattern=(cov_1w4s1i0v9p.s[8]++,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);cov_1w4s1i0v9p.s[9]++;for(var i=(cov_1w4s1i0v9p.s[10]++,0);i<_users2.default.length;i+=1){cov_1w4s1i0v9p.s[11]++;if(!email){cov_1w4s1i0v9p.b[2][0]++;cov_1w4s1i0v9p.s[12]++;return response.status(400).json({status:400,error:'email is required'});}else{cov_1w4s1i0v9p.b[2][1]++;}cov_1w4s1i0v9p.s[13]++;if(!email.match(pattern)){cov_1w4s1i0v9p.b[3][0]++;cov_1w4s1i0v9p.s[14]++;return response.status(400).json({status:400,error:'Please provide a valid email'});}else{cov_1w4s1i0v9p.b[3][1]++;}cov_1w4s1i0v9p.s[15]++;if(!password){cov_1w4s1i0v9p.b[4][0]++;cov_1w4s1i0v9p.s[16]++;return response.status(400).json({status:400,error:'password is required to login'});}else{cov_1w4s1i0v9p.b[4][1]++;}// if (users[i].email !== email) {
//   return response.status(404).json({
//     status: 404,
//     error: 'Email does or password incorrect',
//   });
// }
// if (users[i].password !== password) {
//   return response.status(404).json({
//     status: 404,
//     error: 'Email does or password incorrect',
//   });
// }
}cov_1w4s1i0v9p.s[17]++;next();};cov_1w4s1i0v9p.s[18]++;exports.default=loginValidation;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luVmFsaWRhdGlvbnMuanMiXSwibmFtZXMiOlsibG9naW5WYWxpZGF0aW9uIiwicmVxdWVzdCIsInJlc3BvbnNlIiwibmV4dCIsImJvZHkiLCJlbWFpbCIsInBhc3N3b3JkIiwicGF0dGVybiIsImkiLCJ1c2VycyIsImxlbmd0aCIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsIm1hdGNoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7Ozs7O0FBRUEsSUFBTUEsa0JBQWtCLFNBQWxCQSxlQUFrQixDQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBb0JDLElBQXBCLEVBQTZCO0FBQUEsc0JBQ3ZCRixRQUFRRyxJQURlO0FBQUEsTUFDM0NDLEtBRDJDLGlCQUMzQ0EsS0FEMkM7QUFBQSxNQUNwQ0MsUUFEb0MsaUJBQ3BDQSxRQURvQzs7QUFFbkQsTUFBTUMsVUFBVSxzSkFBaEI7QUFDQSxPQUFLLElBQUlDLElBQUksQ0FBYixFQUFnQkEsSUFBSUMsZ0JBQU1DLE1BQTFCLEVBQWtDRixLQUFLLENBQXZDLEVBQTBDO0FBQ3hDLFFBQUksQ0FBQ0gsS0FBTCxFQUFZO0FBQ1YsYUFBT0gsU0FBU1MsTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7QUFDL0JELGdCQUFRLEdBRHVCO0FBRS9CRSxlQUFPO0FBRndCLE9BQTFCLENBQVA7QUFJRDtBQUNELFFBQUksQ0FBQ1IsTUFBTVMsS0FBTixDQUFZUCxPQUFaLENBQUwsRUFBMkI7QUFDekIsYUFBT0wsU0FBU1MsTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7QUFDL0JELGdCQUFRLEdBRHVCO0FBRS9CRSxlQUFPO0FBRndCLE9BQTFCLENBQVA7QUFJRDtBQUNELFFBQUksQ0FBQ1AsUUFBTCxFQUFlO0FBQ2IsYUFBT0osU0FBU1MsTUFBVCxDQUFnQixHQUFoQixFQUFxQkMsSUFBckIsQ0FBMEI7QUFDL0JELGdCQUFRLEdBRHVCO0FBRS9CRSxlQUFPO0FBRndCLE9BQTFCLENBQVA7QUFJRDtBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNEO0FBQ0RWO0FBQ0QsQ0FwQ0Q7O2tCQXNDZUgsZSIsImZpbGUiOiJsb2dpblZhbGlkYXRpb25zLmpzIiwic291cmNlUm9vdCI6IkM6L1VzZXJzL25vbm8uREVTS1RPUC1PUE9TRlUzL0Rlc2t0b3AvYW5kZWxhLWJhbmthL3NlcnZlci9taWRkbGV3YXJlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB1c2VycyBmcm9tICcuLi9kYi91c2Vycyc7XG5cbmNvbnN0IGxvZ2luVmFsaWRhdGlvbiA9IChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkgPT4ge1xuICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxdWVzdC5ib2R5O1xuICBjb25zdCBwYXR0ZXJuID0gL14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31dKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB1c2Vycy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmICghZW1haWwpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHtcbiAgICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICAgIGVycm9yOiAnZW1haWwgaXMgcmVxdWlyZWQnLFxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghZW1haWwubWF0Y2gocGF0dGVybikpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHtcbiAgICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICAgIGVycm9yOiAnUGxlYXNlIHByb3ZpZGUgYSB2YWxpZCBlbWFpbCcsXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCFwYXNzd29yZCkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6IDQwMCxcbiAgICAgICAgZXJyb3I6ICdwYXNzd29yZCBpcyByZXF1aXJlZCB0byBsb2dpbicsXG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8gaWYgKHVzZXJzW2ldLmVtYWlsICE9PSBlbWFpbCkge1xuICAgIC8vICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgIC8vICAgICBzdGF0dXM6IDQwNCxcbiAgICAvLyAgICAgZXJyb3I6ICdFbWFpbCBkb2VzIG9yIHBhc3N3b3JkIGluY29ycmVjdCcsXG4gICAgLy8gICB9KTtcbiAgICAvLyB9XG4gICAgLy8gaWYgKHVzZXJzW2ldLnBhc3N3b3JkICE9PSBwYXNzd29yZCkge1xuICAgIC8vICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgIC8vICAgICBzdGF0dXM6IDQwNCxcbiAgICAvLyAgICAgZXJyb3I6ICdFbWFpbCBkb2VzIG9yIHBhc3N3b3JkIGluY29ycmVjdCcsXG4gICAgLy8gICB9KTtcbiAgICAvLyB9XG4gIH1cbiAgbmV4dCgpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgbG9naW5WYWxpZGF0aW9uO1xuIl19