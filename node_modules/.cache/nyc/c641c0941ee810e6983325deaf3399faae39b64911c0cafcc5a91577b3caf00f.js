'use strict';var cov_2mlt6ssn4g=function(){var path="C:\\Users\\nono.DESKTOP-OPOSFU3\\Desktop\\andela-banka\\server\\test\\transactionsTest.js";var hash="460528890865061a70f3711d25058a53f51e4c32";var Function=function(){}.constructor;var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\nono.DESKTOP-OPOSFU3\\Desktop\\andela-banka\\server\\test\\transactionsTest.js",statementMap:{"0":{start:{line:3,column:12},end:{line:3,column:27}},"1":{start:{line:5,column:13},end:{line:5,column:42}},"2":{start:{line:7,column:16},end:{line:7,column:36}},"3":{start:{line:9,column:17},end:{line:9,column:50}},"4":{start:{line:11,column:14},end:{line:11,column:31}},"5":{start:{line:13,column:15},end:{line:13,column:46}},"6":{start:{line:15,column:20},end:{line:15,column:43}},"7":{start:{line:17,column:21},end:{line:17,column:58}},"8":{start:{line:19,column:11},end:{line:19,column:28}},"9":{start:{line:21,column:12},end:{line:21,column:40}},"10":{start:{line:23,column:39},end:{line:23,column:93}},"11":{start:{line:25,column:0},end:{line:25,column:26}},"12":{start:{line:29,column:13},end:{line:29,column:36}},"13":{start:{line:31,column:0},end:{line:31,column:39}},"14":{start:{line:33,column:0},end:{line:128,column:3}},"15":{start:{line:34,column:14},end:{line:41,column:3}},"16":{start:{line:42,column:19},end:{line:47,column:45}},"17":{start:{line:48,column:2},end:{line:62,column:5}},"18":{start:{line:49,column:4},end:{line:61,column:7}},"19":{start:{line:50,column:6},end:{line:50,column:39}},"20":{start:{line:51,column:6},end:{line:51,column:42}},"21":{start:{line:52,column:6},end:{line:52,column:49}},"22":{start:{line:53,column:6},end:{line:53,column:55}},"23":{start:{line:54,column:6},end:{line:54,column:59}},"24":{start:{line:55,column:6},end:{line:55,column:58}},"25":{start:{line:56,column:6},end:{line:56,column:55}},"26":{start:{line:57,column:6},end:{line:57,column:58}},"27":{start:{line:58,column:6},end:{line:58,column:54}},"28":{start:{line:59,column:6},end:{line:59,column:57}},"29":{start:{line:60,column:6},end:{line:60,column:13}},"30":{start:{line:63,column:25},end:{line:72,column:3}},"31":{start:{line:73,column:2},end:{line:78,column:5}},"32":{start:{line:74,column:4},end:{line:76,column:7}},"33":{start:{line:75,column:6},end:{line:75,column:39}},"34":{start:{line:77,column:4},end:{line:77,column:11}},"35":{start:{line:79,column:26},end:{line:88,column:3}},"36":{start:{line:89,column:2},end:{line:94,column:5}},"37":{start:{line:90,column:4},end:{line:92,column:7}},"38":{start:{line:91,column:6},end:{line:91,column:39}},"39":{start:{line:93,column:4},end:{line:93,column:11}},"40":{start:{line:96,column:2},end:{line:101,column:5}},"41":{start:{line:97,column:4},end:{line:99,column:7}},"42":{start:{line:98,column:6},end:{line:98,column:39}},"43":{start:{line:100,column:4},end:{line:100,column:11}},"44":{start:{line:102,column:2},end:{line:107,column:5}},"45":{start:{line:103,column:4},end:{line:105,column:7}},"46":{start:{line:104,column:6},end:{line:104,column:39}},"47":{start:{line:106,column:4},end:{line:106,column:11}},"48":{start:{line:109,column:27},end:{line:118,column:3}},"49":{start:{line:120,column:2},end:{line:127,column:5}},"50":{start:{line:121,column:4},end:{line:125,column:7}},"51":{start:{line:122,column:6},end:{line:122,column:39}},"52":{start:{line:123,column:6},end:{line:123,column:50}},"53":{start:{line:124,column:6},end:{line:124,column:63}},"54":{start:{line:126,column:4},end:{line:126,column:11}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:23,column:9},end:{line:23,column:31}},loc:{start:{line:23,column:37},end:{line:23,column:95}},line:23},"1":{name:"(anonymous_1)",decl:{start:{line:33,column:34},end:{line:33,column:35}},loc:{start:{line:33,column:46},end:{line:128,column:1}},line:33},"2":{name:"(anonymous_2)",decl:{start:{line:48,column:66},end:{line:48,column:67}},loc:{start:{line:48,column:82},end:{line:62,column:3}},line:48},"3":{name:"(anonymous_3)",decl:{start:{line:49,column:121},end:{line:49,column:122}},loc:{start:{line:49,column:150},end:{line:61,column:5}},line:49},"4":{name:"(anonymous_4)",decl:{start:{line:73,column:53},end:{line:73,column:54}},loc:{start:{line:73,column:69},end:{line:78,column:3}},line:73},"5":{name:"(anonymous_5)",decl:{start:{line:74,column:160},end:{line:74,column:161}},loc:{start:{line:74,column:185},end:{line:76,column:5}},line:74},"6":{name:"(anonymous_6)",decl:{start:{line:89,column:53},end:{line:89,column:54}},loc:{start:{line:89,column:69},end:{line:94,column:3}},line:89},"7":{name:"(anonymous_7)",decl:{start:{line:90,column:162},end:{line:90,column:163}},loc:{start:{line:90,column:187},end:{line:92,column:5}},line:90},"8":{name:"(anonymous_8)",decl:{start:{line:96,column:66},end:{line:96,column:67}},loc:{start:{line:96,column:82},end:{line:101,column:3}},line:96},"9":{name:"(anonymous_9)",decl:{start:{line:97,column:98},end:{line:97,column:99}},loc:{start:{line:97,column:123},end:{line:99,column:5}},line:97},"10":{name:"(anonymous_10)",decl:{start:{line:102,column:66},end:{line:102,column:67}},loc:{start:{line:102,column:82},end:{line:107,column:3}},line:102},"11":{name:"(anonymous_11)",decl:{start:{line:103,column:100},end:{line:103,column:101}},loc:{start:{line:103,column:125},end:{line:105,column:5}},line:103},"12":{name:"(anonymous_12)",decl:{start:{line:120,column:66},end:{line:120,column:67}},loc:{start:{line:120,column:82},end:{line:127,column:3}},line:120},"13":{name:"(anonymous_13)",decl:{start:{line:121,column:162},end:{line:121,column:163}},loc:{start:{line:121,column:187},end:{line:125,column:5}},line:121}},branchMap:{"0":{loc:{start:{line:23,column:46},end:{line:23,column:92}},type:"cond-expr",locations:[{start:{line:23,column:70},end:{line:23,column:73}},{start:{line:23,column:76},end:{line:23,column:92}}],line:23},"1":{loc:{start:{line:23,column:46},end:{line:23,column:67}},type:"binary-expr",locations:[{start:{line:23,column:46},end:{line:23,column:49}},{start:{line:23,column:53},end:{line:23,column:67}}],line:23}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var _chai=(cov_2mlt6ssn4g.s[0]++,require('chai'));var _chai2=(cov_2mlt6ssn4g.s[1]++,_interopRequireDefault(_chai));var _chaiHttp=(cov_2mlt6ssn4g.s[2]++,require('chai-http'));var _chaiHttp2=(cov_2mlt6ssn4g.s[3]++,_interopRequireDefault(_chaiHttp));var _dotenv=(cov_2mlt6ssn4g.s[4]++,require('dotenv'));var _dotenv2=(cov_2mlt6ssn4g.s[5]++,_interopRequireDefault(_dotenv));var _jsonwebtoken=(cov_2mlt6ssn4g.s[6]++,require('jsonwebtoken'));var _jsonwebtoken2=(cov_2mlt6ssn4g.s[7]++,_interopRequireDefault(_jsonwebtoken));var _app=(cov_2mlt6ssn4g.s[8]++,require('../app'));var _app2=(cov_2mlt6ssn4g.s[9]++,_interopRequireDefault(_app));function _interopRequireDefault(obj){cov_2mlt6ssn4g.f[0]++;cov_2mlt6ssn4g.s[10]++;return(cov_2mlt6ssn4g.b[1][0]++,obj)&&(cov_2mlt6ssn4g.b[1][1]++,obj.__esModule)?(cov_2mlt6ssn4g.b[0][0]++,obj):(cov_2mlt6ssn4g.b[0][1]++,{default:obj});}cov_2mlt6ssn4g.s[11]++;_dotenv2.default.config();// eslint-disable-next-line no-unused-vars
/* eslint-disable no-unused-expressions */ // eslint-disable-next-line no-unused-expressions
var should=(cov_2mlt6ssn4g.s[12]++,_chai2.default.should());cov_2mlt6ssn4g.s[13]++;_chai2.default.use(_chaiHttp2.default);cov_2mlt6ssn4g.s[14]++;describe('All transactions test',function(){cov_2mlt6ssn4g.f[1]++;var staff=(cov_2mlt6ssn4g.s[15]++,{firstName:'chinonso',lastName:'calix',email:'staff2@gmail.com',password:1234,type:'staff',isAdmin:true});var staffToken=(cov_2mlt6ssn4g.s[16]++,_jsonwebtoken2.default.sign({email:staff.email,id:staff.id,isAdmin:staff.isAdmin,type:staff.type},process.env.SECRET,{expiresIn:'1h'}));cov_2mlt6ssn4g.s[17]++;it('should be able to signup a staff with the correct details',function(done){cov_2mlt6ssn4g.f[2]++;cov_2mlt6ssn4g.s[18]++;_chai2.default.request(_app2.default).post('/api/v1/auth/signup').send('x-access-token',staffToken).send(staff).end(function(request,response){cov_2mlt6ssn4g.f[3]++;cov_2mlt6ssn4g.s[19]++;response.should.have.status(201);cov_2mlt6ssn4g.s[20]++;response.body.should.be.a('object');cov_2mlt6ssn4g.s[21]++;response.body.should.have.property('data');cov_2mlt6ssn4g.s[22]++;response.body.data.should.have.property('token');cov_2mlt6ssn4g.s[23]++;response.body.data.should.have.property('firstName');cov_2mlt6ssn4g.s[24]++;response.body.data.should.have.property('lastName');cov_2mlt6ssn4g.s[25]++;response.body.data.should.have.property('email');cov_2mlt6ssn4g.s[26]++;response.body.data.should.have.property('password');cov_2mlt6ssn4g.s[27]++;response.body.data.should.have.property('type');cov_2mlt6ssn4g.s[28]++;response.body.data.should.have.property('isAdmin');cov_2mlt6ssn4g.s[29]++;done();});});var debitTransaction=(cov_2mlt6ssn4g.s[30]++,{id:1,accountNumber:'0114276910',createdOn:'12/12/2009',cashier:1,transactionType:'debit',amount:500,oldBalance:15000,newBalance:10000});cov_2mlt6ssn4g.s[31]++;it('Only a staff can perform the debit operation',function(done){cov_2mlt6ssn4g.f[4]++;cov_2mlt6ssn4g.s[32]++;_chai2.default.request(_app2.default).post('/api/v1/transactions/0114276912/debit').send(debitTransaction).set('Authorization','Bearer '+staffToken).end(function(err,response){cov_2mlt6ssn4g.f[5]++;cov_2mlt6ssn4g.s[33]++;response.should.have.status(201);});cov_2mlt6ssn4g.s[34]++;done();});var creditTransaction=(cov_2mlt6ssn4g.s[35]++,{id:1,accountNumber:'0114276910',createdOn:'12/12/2009',cashier:1,transactionType:'debit',amount:500,oldBalance:15000,newBalance:20000});cov_2mlt6ssn4g.s[36]++;it('Only a staff can perform the debit operation',function(done){cov_2mlt6ssn4g.f[6]++;cov_2mlt6ssn4g.s[37]++;_chai2.default.request(_app2.default).post('/api/v1/transactions/0114276912/credit').send(creditTransaction).set('Authorization','Bearer '+staffToken).end(function(err,response){cov_2mlt6ssn4g.f[7]++;cov_2mlt6ssn4g.s[38]++;response.should.have.status(201);});cov_2mlt6ssn4g.s[39]++;done();});cov_2mlt6ssn4g.s[40]++;it('Only a staff or logged in user can perform this operation',function(done){cov_2mlt6ssn4g.f[8]++;cov_2mlt6ssn4g.s[41]++;_chai2.default.request(_app2.default).get('/api/v1/transactions/0114276912/transactions').end(function(err,response){cov_2mlt6ssn4g.f[9]++;cov_2mlt6ssn4g.s[42]++;response.should.have.status(200);});cov_2mlt6ssn4g.s[43]++;done();});cov_2mlt6ssn4g.s[44]++;it('Only a staff or logged in user can perform this operation',function(done){cov_2mlt6ssn4g.f[10]++;cov_2mlt6ssn4g.s[45]++;_chai2.default.request(_app2.default).get('/api/v1/transactions/0114276912/transactions/2').end(function(err,response){cov_2mlt6ssn4g.f[11]++;cov_2mlt6ssn4g.s[46]++;response.should.have.status(200);});cov_2mlt6ssn4g.s[47]++;done();});var invalidTransaction=(cov_2mlt6ssn4g.s[48]++,{id:1,accountNumber:'0114276910',createdOn:'12/12/2009',cashier:1,transactionType:'debit',amount:25000,oldBalance:15000,newBalance:10000});cov_2mlt6ssn4g.s[49]++;it('Only a staff or logged in user can perform this operation',function(done){cov_2mlt6ssn4g.f[12]++;cov_2mlt6ssn4g.s[50]++;_chai2.default.request(_app2.default).post('/api/v1/transactions/0114276912/debit').set('Authorization','Bearer '+staffToken).send(invalidTransaction).end(function(err,response){cov_2mlt6ssn4g.f[13]++;cov_2mlt6ssn4g.s[51]++;response.should.have.status(403);cov_2mlt6ssn4g.s[52]++;response.body.should.have.property('error');cov_2mlt6ssn4g.s[53]++;response.body.error.should.equal('Insufficient Balance');});cov_2mlt6ssn4g.s[54]++;done();});});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYW5zYWN0aW9uc1Rlc3QuanMiXSwibmFtZXMiOlsiZG90ZW52IiwiY29uZmlnIiwic2hvdWxkIiwiY2hhaSIsInVzZSIsImNoYWlIdHRwIiwiZGVzY3JpYmUiLCJzdGFmZiIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsInR5cGUiLCJpc0FkbWluIiwic3RhZmZUb2tlbiIsImp3dCIsInNpZ24iLCJpZCIsInByb2Nlc3MiLCJlbnYiLCJTRUNSRVQiLCJleHBpcmVzSW4iLCJpdCIsImRvbmUiLCJyZXF1ZXN0Iiwic2VydmVyIiwicG9zdCIsInNlbmQiLCJlbmQiLCJyZXNwb25zZSIsImhhdmUiLCJzdGF0dXMiLCJib2R5IiwiYmUiLCJhIiwicHJvcGVydHkiLCJkYXRhIiwiZGViaXRUcmFuc2FjdGlvbiIsImFjY291bnROdW1iZXIiLCJjcmVhdGVkT24iLCJjYXNoaWVyIiwidHJhbnNhY3Rpb25UeXBlIiwiYW1vdW50Iiwib2xkQmFsYW5jZSIsIm5ld0JhbGFuY2UiLCJzZXQiLCJlcnIiLCJjcmVkaXRUcmFuc2FjdGlvbiIsImdldCIsImludmFsaWRUcmFuc2FjdGlvbiIsImVycm9yIiwiZXF1YWwiXSwibWFwcGluZ3MiOiI7O0FBRUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUFBLGlCQUFPQyxNQUFQO0FBQ0E7QUFUQTtBQUNBO0FBU0EsSUFBTUMsU0FBU0MsZUFBS0QsTUFBTCxFQUFmOztBQUVBQyxlQUFLQyxHQUFMLENBQVNDLGtCQUFUOztBQUdBQyxTQUFTLHVCQUFULEVBQWtDLFlBQU07QUFDdEMsTUFBTUMsUUFBUTtBQUNaQyxlQUFXLFVBREM7QUFFWkMsY0FBVSxPQUZFO0FBR1pDLFdBQU8sa0JBSEs7QUFJWkMsY0FBVSxJQUpFO0FBS1pDLFVBQU0sT0FMTTtBQU1aQyxhQUFTO0FBTkcsR0FBZDtBQVFBLE1BQU1DLGFBQWFDLHVCQUFJQyxJQUFKLENBQVM7QUFDMUJOLFdBQU9ILE1B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VTtBQUN4RXBCLG1CQUFLcUIsT0FBTCxDQUFhQyxhQUFiLEVBQ0dDLElBREgsQ0FDUSx1Q0FEUixFQUVHbUIsR0FGSCxDQUVPLGVBRlAsY0FFa0MvQixVQUZsQyxFQUdHYSxJQUhILENBR1FzQixrQkFIUixFQUlHckIsR0FKSCxDQUlPLFVBQUNrQixHQUFELEVBQU1qQixRQUFOLEVBQW1CO0FBQ3RCQSxlQUFTM0IsTUFBVCxDQUFnQjRCLElBQWhCLENBQXFCQyxNQUFyQixDQUE0QixHQUE1QjtBQUNBRixlQUFTRyxJQUFULENBQWM5QixNQUFkLENBQXFCNEIsSUFBckIsQ0FBMEJLLFFBQTFCLENBQW1DLE9BQW5DO0FBQ0FOLGVBQVNHLElBQVQsQ0FBY2tCLEtBQWQsQ0FBb0JoRCxNQUFwQixDQUEyQmlELEtBQTNCLENBQWlDLHNCQUFqQztBQUNELEtBUkg7QUFTQTVCO0FBQ0QsR0FYRDtBQVlELENBbkhEIiwiZmlsZSI6InRyYW5zYWN0aW9uc1Rlc3QuanMiLCJzb3VyY2VSb290IjoiQzovVXNlcnMvbm9uby5ERVNLVE9QLU9QT1NGVTMvRGVza3RvcC9hbmRlbGEtYmFua2Evc2VydmVyL3Rlc3QiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtZXhwcmVzc2lvbnNcbmltcG9ydCBjaGFpIGZyb20gJ2NoYWknO1xuaW1wb3J0IGNoYWlIdHRwIGZyb20gJ2NoYWktaHR0cCc7XG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgc2VydmVyIGZyb20gJy4uL2FwcCc7XG5cbmRvdGVudi5jb25maWcoKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuY29uc3Qgc2hvdWxkID0gY2hhaS5zaG91bGQoKTtcblxuY2hhaS51c2UoY2hhaUh0dHApO1xuXG5cbmRlc2NyaWJlKCdBbGwgdHJhbnNhY3Rpb25zIHRlc3QnLCAoKSA9PiB7XG4gIGNvbnN0IHN0YWZmID0ge1xuICAgIGZpcnN0TmFtZTogJ2NoaW5vbnNvJyxcbiAgICBsYXN0TmFtZTogJ2NhbGl4JyxcbiAgICBlbWFpbDogJ3N0YWZmMkBnbWFpbC5jb20nLFxuICAgIHBhc3N3b3JkOiAxMjM0LFxuICAgIHR5cGU6ICdzdGFmZicsXG4gICAgaXNBZG1pbjogdHJ1ZSxcbiAgfTtcbiAgY29uc3Qgc3RhZmZUb2tlbiA9IGp3dC5zaWduKHtcbiAgICBlbWFpbDogc3RhZmYuZW1haWwsXG4gICAgaWQ6IHN0YWZmLmlkLFxuICAgIGlzQWRtaW46IHN0YWZmLmlzQWRtaW4sXG4gICAgdHlwZTogc3RhZmYudHlwZSxcbiAgfSwgcHJvY2Vzcy5lbnYuU0VDUkVULCB7IGV4cGlyZXNJbjogJzFoJyB9KTtcbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHNpZ251cCBhIHN0YWZmIHdpdGggdGhlIGNvcnJlY3QgZGV0YWlscycsIChkb25lKSA9PiB7XG4gICAgY2hhaS5yZXF1ZXN0KHNlcnZlcilcbiAgICAgIC5wb3N0KCcvYXBpL3YxL2F1dGgvc2lnbnVwJylcbiAgICAgIC5zZW5kKCd4LWFjY2Vzcy10b2tlbicsIHN0YWZmVG9rZW4pXG4gICAgICAuc2VuZChzdGFmZilcbiAgICAgIC5lbmQoKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDEpO1xuICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5iZS5hKCdvYmplY3QnKTtcbiAgICAgICAgcmVzcG9uc2UuYm9keS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnZGF0YScpO1xuICAgICAgICByZXNwb25zZS5ib2R5LmRhdGEuc2hvdWxkLmhhdmUucHJvcGVydHkoJ3Rva2VuJyk7XG4gICAgICAgIHJlc3BvbnNlLmJvZHkuZGF0YS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnZmlyc3ROYW1lJyk7XG4gICAgICAgIHJlc3BvbnNlLmJvZHkuZGF0YS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgnbGFzdE5hbWUnKTtcbiAgICAgICAgcmVzcG9uc2UuYm9keS5kYXRhLnNob3VsZC5oYXZlLnByb3BlcnR5KCdlbWFpbCcpO1xuICAgICAgICByZXNwb25zZS5ib2R5LmRhdGEuc2hvdWxkLmhhdmUucHJvcGVydHkoJ3Bhc3N3b3JkJyk7XG4gICAgICAgIHJlc3BvbnNlLmJvZHkuZGF0YS5zaG91bGQuaGF2ZS5wcm9wZXJ0eSgndHlwZScpO1xuICAgICAgICByZXNwb25zZS5ib2R5LmRhdGEuc2hvdWxkLmhhdmUucHJvcGVydHkoJ2lzQWRtaW4nKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSk7XG4gIH0pO1xuICBjb25zdCBkZWJpdFRyYW5zYWN0aW9uID0ge1xuICAgIGlkOiAxLFxuICAgIGFjY291bnROdW1iZXI6ICcwMTE0Mjc2OTEwJyxcbiAgICBjcmVhdGVkT246ICcxMi8xMi8yMDA5JyxcbiAgICBjYXNoaWVyOiAxLFxuICAgIHRyYW5zYWN0aW9uVHlwZTogJ2RlYml0JyxcbiAgICBhbW91bnQ6IDUwMCxcbiAgICBvbGRCYWxhbmNlOiAxNTAwMCxcbiAgICBuZXdCYWxhbmNlOiAxMDAwMCxcbiAgfTtcbiAgaXQoJ09ubHkgYSBzdGFmZiBjYW4gcGVyZm9ybSB0aGUgZGViaXQgb3BlcmF0aW9uJywgKGRvbmUpID0+IHtcbiAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgLnBvc3QoJy9hcGkvdjEvdHJhbnNhY3Rpb25zLzAxMTQyNzY5MTIvZGViaXQnKVxuICAgICAgLnNlbmQoZGViaXRUcmFuc2FjdGlvbilcbiAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7c3RhZmZUb2tlbn1gKVxuICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSkgPT4ge1xuICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAxKTtcbiAgICAgIH0pO1xuICAgIGRvbmUoKTtcbiAgfSk7XG4gIGNvbnN0IGNyZWRpdFRyYW5zYWN0aW9uID0ge1xuICAgIGlkOiAxLFxuICAgIGFjY291bnROdW1iZXI6ICcwMTE0Mjc2OTEwJyxcbiAgICBjcmVhdGVkT246ICcxMi8xMi8yMDA5JyxcbiAgICBjYXNoaWVyOiAxLFxuICAgIHRyYW5zYWN0aW9uVHlwZTogJ2RlYml0JyxcbiAgICBhbW91bnQ6IDUwMCxcbiAgICBvbGRCYWxhbmNlOiAxNTAwMCxcbiAgICBuZXdCYWxhbmNlOiAyMDAwMCxcbiAgfTtcbiAgaXQoJ09ubHkgYSBzdGFmZiBjYW4gcGVyZm9ybSB0aGUgZGViaXQgb3BlcmF0aW9uJywgKGRvbmUpID0+IHtcbiAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgLnBvc3QoJy9hcGkvdjEvdHJhbnNhY3Rpb25zLzAxMTQyNzY5MTIvY3JlZGl0JylcbiAgICAgIC5zZW5kKGNyZWRpdFRyYW5zYWN0aW9uKVxuICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHtzdGFmZlRva2VufWApXG4gICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cygyMDEpO1xuICAgICAgfSk7XG4gICAgZG9uZSgpO1xuICB9KTtcblxuICBpdCgnT25seSBhIHN0YWZmIG9yIGxvZ2dlZCBpbiB1c2VyIGNhbiBwZXJmb3JtIHRoaXMgb3BlcmF0aW9uJywgKGRvbmUpID0+IHtcbiAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgLmdldCgnL2FwaS92MS90cmFuc2FjdGlvbnMvMDExNDI3NjkxMi90cmFuc2FjdGlvbnMnKVxuICAgICAgLmVuZCgoZXJyLCByZXNwb25zZSkgPT4ge1xuICAgICAgICByZXNwb25zZS5zaG91bGQuaGF2ZS5zdGF0dXMoMjAwKTtcbiAgICAgIH0pO1xuICAgIGRvbmUoKTtcbiAgfSk7XG4gIGl0KCdPbmx5IGEgc3RhZmYgb3IgbG9nZ2VkIGluIHVzZXIgY2FuIHBlcmZvcm0gdGhpcyBvcGVyYXRpb24nLCAoZG9uZSkgPT4ge1xuICAgIGNoYWkucmVxdWVzdChzZXJ2ZXIpXG4gICAgICAuZ2V0KCcvYXBpL3YxL3RyYW5zYWN0aW9ucy8wMTE0Mjc2OTEyL3RyYW5zYWN0aW9ucy8yJylcbiAgICAgIC5lbmQoKGVyciwgcmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmVzcG9uc2Uuc2hvdWxkLmhhdmUuc3RhdHVzKDIwMCk7XG4gICAgICB9KTtcbiAgICBkb25lKCk7XG4gIH0pO1xuXG4gIGNvbnN0IGludmFsaWRUcmFuc2FjdGlvbiA9IHtcbiAgICBpZDogMSxcbiAgICBhY2NvdW50TnVtYmVyOiAnMDExNDI3NjkxMCcsXG4gICAgY3JlYXRlZE9uOiAnMTIvMTIvMjAwOScsXG4gICAgY2FzaGllcjogMSxcbiAgICB0cmFuc2FjdGlvblR5cGU6ICdkZWJpdCcsXG4gICAgYW1vdW50OiAyNTAwMCxcbiAgICBvbGRCYWxhbmNlOiAxNTAwMCxcbiAgICBuZXdCYWxhbmNlOiAxMDAwMCxcbiAgfTtcblxuICBpdCgnT25seSBhIHN0YWZmIG9yIGxvZ2dlZCBpbiB1c2VyIGNhbiBwZXJmb3JtIHRoaXMgb3BlcmF0aW9uJywgKGRvbmUpID0+IHtcbiAgICBjaGFpLnJlcXVlc3Qoc2VydmVyKVxuICAgICAgLnBvc3QoJy9hcGkvdjEvdHJhbnNhY3Rpb25zLzAxMTQyNzY5MTIvZGViaXQnKVxuICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHtzdGFmZlRva2VufWApXG4gICAgICAuc2VuZChpbnZhbGlkVHJhbnNhY3Rpb24pXG4gICAgICAuZW5kKChlcnIsIHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJlc3BvbnNlLnNob3VsZC5oYXZlLnN0YXR1cyg0MDMpO1xuICAgICAgICByZXNwb25zZS5ib2R5LnNob3VsZC5oYXZlLnByb3BlcnR5KCdlcnJvcicpO1xuICAgICAgICByZXNwb25zZS5ib2R5LmVycm9yLnNob3VsZC5lcXVhbCgnSW5zdWZmaWNpZW50IEJhbGFuY2UnKTtcbiAgICAgIH0pO1xuICAgIGRvbmUoKTtcbiAgfSk7XG59KTtcbiJdfQ==