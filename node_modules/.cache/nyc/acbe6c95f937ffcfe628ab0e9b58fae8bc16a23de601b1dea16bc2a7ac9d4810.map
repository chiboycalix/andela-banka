{"version":3,"sources":["isUser.js"],"names":["dotenv","config","request","response","next","token","headers","authorization","split","decoded","jwt","verify","process","env","SECRET","userData","error","status","json"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEAA,iBAAOC,MAAP;;kBAEe,UAACC,OAAD,EAAUC,QAAV,EAAoBC,IAApB,EAA6B;AAC1C,MAAI;AACF,QAAMC,QAAQH,QAAQI,OAAR,CAAgBC,aAAhB,CAA8BC,KAA9B,CAAoC,GAApC,EAAyC,CAAzC,CAAd;AACA,QAAMC,UAAUC,uBAAIC,MAAJ,CAAWN,KAAX,EAAkBO,QAAQC,GAAR,CAAYC,MAA9B,CAAhB;AACAZ,YAAQa,QAAR,GAAmBN,OAAnB;AACAL;AACD,GALD,CAKE,OAAOY,KAAP,EAAc;AACd,WAAOb,SAASc,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AAC/BD,cAAQ,GADuB;AAE/BD,aAAO;AAFwB,KAA1B,CAAP;AAID;AACF,C","file":"isUser.js","sourceRoot":"C:/Users/nono.DESKTOP-OPOSFU3/Desktop/andela-banka/server/middlewares","sourcesContent":["import jwt from 'jsonwebtoken';\nimport dotenv from 'dotenv';\n\ndotenv.config();\n\nexport default (request, response, next) => {\n  try {\n    const token = request.headers.authorization.split(' ')[1];\n    const decoded = jwt.verify(token, process.env.SECRET);\n    request.userData = decoded;\n    next();\n  } catch (error) {\n    return response.status(401).json({\n      status: 401,\n      error: 'Unauthorized',\n    });\n  }\n};\n"]}